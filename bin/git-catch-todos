#! /usr/bin/ruby

require 'lib/legit_helper'

todo_string = ARGV[0] || 'TODO'
system("git diff --staged | grep '^+' | grep #{todo_string}")

if $?.success?
  show("[pre-commit hook] Aborting commit... found staged `#{todo_string}`s.", :warning)
  exit 1
else
  show("Success: No `#{todo_string}`s staged.", :success)
  exit 0
end
